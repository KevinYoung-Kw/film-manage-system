# 电影票务管理系统

一个基于Next.js构建的多用户移动端电影票务管理应用，使用Tailwind CSS样式，采用Notion风格设计。

## 项目介绍

本系统为一个完整的电影院票务管理解决方案，主要包含三类用户：

1. **影院管理员**：负责电影排片、影厅管理、票价设置、售票管理等。
2. **售票员**：负责电影票销售、退票、改签等。
3. **观众**：使用系统进行电影查询、购票、选座、支付等。

当前版本主要实现了观众使用的电影购票系统，管理员和售票员的功能仅搭建了基本框架。

## 技术栈

- **前端框架**：Next.js 15+
- **UI框架**：Tailwind CSS 4.0
- **状态管理**：React Hooks
- **组件库**：自定义组件（Notion风格）
- **图标库**：Lucide React
- **数据模拟**：本地模拟数据
- **日期处理**：date-fns

## 功能特性
电影票务管理系统需求分析

一、系统概述
电影票务管理系统是面向影院、电影发行公司和观众的票务管理软件，旨在为影院提供电影排片、售票、检票等功能，为电影发行公司提供电影票房统计分析，为观众提供便捷的购票服务。

二、用户角色
影院管理员: 使用系统进行电影排片、影厅管理、票价设置、售票管理等。
售票员: 使用系统进行电影票销售、退票、改签等。
观众: 使用系统进行电影查询、购票、选座、支付等。

三、功能需求
1. 电影排片
电影查询: 影院管理员可以查询可供排片的电影。
排片计划: 影院管理员可以根据影厅情况和电影受欢迎程度制定排片计划。
排片发布: 影院管理员可以发布排片信息，包括电影名称、放映时间、影厅、票价等。

2. 影厅管理
影厅信息管理: 影院管理员可以添加、修改、删除影厅信息，包括影厅名称、座位数、座位布局等。
影厅设备管理: 影院管理员可以管理影厅设备，包括音响、灯光、投影仪等。

3. 票价设置
票价类型设置: 影院管理员可以设置不同的票价类型，如普通票、学生票、老年票等。
票价策略设置: 影院管理员可以根据不同的时间段、电影类型等设置不同的票价策略。

4. 售票管理
售票: 售票员可以使用系统进行电影票销售，包括选择电影、影厅、座位、票价等。
退票: 观众可以申请退票，系统应支持全额退票和手续费退票等不同退票政策。
改签: 观众可以申请改签，系统应支持同场次改签和不同场次改签等不同改签政策。

5. 观众购票
电影查询: 观众可以使用系统查询正在上映的电影信息，包括电影名称、海报、剧情简介、演员表、导演等。
选座购票: 观众可以选择电影、影厅、座位进行购票。
支付: 观众可以使用多种支付方式进行支付，如现金、支付宝、微信支付等。

6. 电影票房统计
票房数据统计: 电影发行公司可以使用系统统计电影票房数据，包括票房收入、观影人数等。
票房排名: 系统可以根据票房数据生成票房排行榜。
### 观众端

- [x] 电影浏览和搜索
- [x] 电影详情查看
- [x] 场次选择
- [x] 座位选择
- [x] 订单创建
- [x] 支付模拟
- [x] 订单管理

### 售票员端

- [x] 工作仪表盘（今日排班、工作概览、最近操作）
- [x] 售票功能（选择电影、场次、座位）
- [x] 检票功能（扫码/手动输入验票）
- [x] 退票管理（退票申请处理）
- [x] 操作记录（售票/检票/退票历史）
- [x] 排班信息查看

### 管理员端（基础框架）

- [x] 电影管理
- [x] 排片管理
- [x] 影厅管理
- [x] 员工管理
- [x] 数据统计

## 项目目录结构

```
app/
  ├── routes/                # 路由分组
  │   ├── auth/              # 认证相关路由
  │   ├── user/              # 观众用户路由
  │   ├── admin/             # 管理员路由
  │   └── staff/             # 售票员路由
  ├── components/            # 组件
  │   ├── layout/            # 布局组件
  │   └── ui/                # UI组件
  ├── lib/                   # 工具和数据
  │   ├── types/             # 类型定义
  │   ├── hooks/             # 自定义钩子
  │   └── mockData.ts        # 模拟数据
  ├── globals.css            # 全局样式
  └── page.tsx               # 首页
```

## 数据模型

系统包含以下主要数据模型：

- **用户(User)**：包括管理员、售票员和观众
- **电影(Movie)**：电影基本信息
- **影厅(Theater)**：影院的放映厅信息
- **座位(Seat)**：影厅座位信息
- **场次(Showtime)**：电影排期场次
- **订单(Order)**：购票订单
- **操作记录(StaffOperation)**：员工操作历史记录
- **排班信息(StaffSchedule)**：员工工作排班表

## 快速开始

### 安装依赖

```bash
npm install
```

### 开发模式

```bash
npm run dev
```

### 构建项目

```bash
npm run build
```

### 运行构建后的项目

```bash
npm start
```

## 测试账户

系统预设了以下测试账户（密码统一为：123456）：

- 管理员: admin@example.com
- 售票员: staff1@example.com
- 观众: customer1@example.com / customer2@example.com

## 后续计划

1. 接入Supabase数据库，实现真实数据存储
2. 完善管理员和售票员功能
3. 添加用户认证和权限管理
4. 实现电影评分和评论功能
5. 添加会员系统和积分管理
6. 优化移动端体验

## 许可证

MIT